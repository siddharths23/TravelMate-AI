<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pages/LoginPage.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pages/LoginPage.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from "react";

import axios from "axios";
import { Link } from "react-router-dom";
import "../css/Login.css";
/**
 * LoginPage is a functional React component that displays a login form.
 * It handles user input, form submission, and error messages.
 */
const LoginPage = () => {
  const [data, setData] = useState({ email: "", password: "" });
  const [error, setError] = useState("");
  /**
   * handleChange is a function that updates the component's state with new input values.
   * @param {object} event - The input event object containing the updated input value and name.
   */
  const handleChange = ({ currentTarget: input }) => {
    setData({ ...data, [input.name]: input.value });
  };
  /**
   * handleSubmit is an asynchronous function that handles form submission.
   * It sends the login data to the API and stores the received token in localStorage.
   * @param {object} event - The form submit event object.
   */
  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      const url = "http://localhost:5000/api/auth";
      const { data: res } = await axios.post(url, data);
      localStorage.setItem("token", res.data);
      window.location = "/";
    } catch (error) {
      if (
        error.response &amp;&amp;
        error.response.status >= 400 &amp;&amp;
        error.response.status &lt;= 500
      ) {
        setError(error.response.data.message);
      }
    }
  };

  return (
    &lt;div className="login-container">
      &lt;link rel="preconnect" href="https://fonts.googleapis.com">&lt;/link>
      &lt;link rel="preconnect" href="https://fonts.gstatic.com">&lt;/link>
      &lt;link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&amp;display=swap"
        rel="stylesheet"
      >&lt;/link>

      &lt;div className="form-container">
        &lt;form onSubmit={handleSubmit} className="login-form">
          &lt;h2>Login&lt;/h2>
          &lt;input
            type="email"
            placeholder="Email"
            name="email"
            onChange={handleChange}
            value={data.email}
            required
            className="login-input"
          />
          &lt;input
            type="password"
            placeholder="Password"
            name="password"
            onChange={handleChange}
            value={data.password}
            required
            className="login-input"
          />
          {error &amp;&amp; &lt;div className="error_msg">{error}&lt;/div>}
          &lt;div className="btn">
            &lt;button
              type="submit"
              className=" buttons-container login-btn slide left"
            >
              &lt;b>Login&lt;/b>
            &lt;/button>
            &lt;Link to="/signup">
              &lt;button
                type="button"
                className="buttons-container login-btn slide right"
              >
                &lt;b>Sign up&lt;/b>
              &lt;/button>
            &lt;/Link>
          &lt;/div>
        &lt;/form>
      &lt;/div>
    &lt;/div>
  );
};

export default LoginPage;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#Explore">Explore</a></li><li><a href="global.html#Homepage">Homepage</a></li><li><a href="global.html#LoginPage">LoginPage</a></li><li><a href="global.html#Navbar">Navbar</a></li><li><a href="global.html#PlanPage">PlanPage</a></li><li><a href="global.html#ProfilePage">ProfilePage</a></li><li><a href="global.html#SignupPage">SignupPage</a></li><li><a href="global.html#createCompletion">createCompletion</a></li><li><a href="global.html#destinations">destinations</a></li><li><a href="global.html#fetchCompletion">fetchCompletion</a></li><li><a href="global.html#getRandomDestinations">getRandomDestinations</a></li><li><a href="global.html#handleLogout">handleLogout</a></li><li><a href="global.html#isValidJson">isValidJson</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed May 03 2023 16:21:24 GMT-0700 (Pacific Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
